<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <title>PWAConverter: Easily convert your website into a PWA instantly!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, interactive-widget=resizes-content">
    <meta name="application-name" content="PWAConverter">
    <meta name="description" content="Easily convert your website into a PWA instantly!">
    <meta name="author" content="Michael Schwartz">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="PWAConverter: Easily convert your website into a PWA instantly!">
    <meta name="theme-color" content="#13171f">
    <meta name="apple-mobile-web-app-title" content="PWAConverter: Easily convert your website into a PWA instantly!">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="./index.html">
    <meta name="msapplication-navbutton-color" content="#13171f">
    <meta property="og:url" content="https://michaelsboost.com/PWAConverter" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="PWAConverter" />
    <meta property="og:description" content="Easily convert your website into a PWA instantly!" />
    <meta property="og:image"       content="https://raw.githubusercontent.com/michaelsboost/PWAConverter/main/imgs/header.png" />
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" type="image/x-icon" href="imgs/logo.svg">
    <link rel="icon" type="image/svg+xml" href="imgs/logo.svg" />
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#ffffff">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#ffffff">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Polyrise">
    <link rel="apple-touch-icon" href="img/logo.png">
    <link rel="stylesheet" href="dist/bundle.css">
  </head>
  <body>
    <main class="container text-center">
      <h1 class="text-3xl font-bold mt-10">Convert Your Website into a 
        <a class="no-underline" href="https://github.com/michaelsboost/PWAConverter">
          <img src="imgs/logo.svg" alt="Logo" class="h-14" target="_blank">
        </a> Instantly! 

        <a class="no-underline" href="https://github.com/michaelsboost/PWAConverter">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 text-red-400" viewBox="0 0 24 24">
            <g fill="none">
              <path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"></path>
              <path fill="currentColor" d="M18.494 3.801c2.095 1.221 3.569 3.7 3.504 6.592C21.86 16.5 13.5 21 12 21s-9.861-4.5-9.998-10.607c-.065-2.892 1.409-5.37 3.504-6.592C7.466 2.66 9.928 2.653 12 4.338c2.072-1.685 4.534-1.679 6.494-.537"></path>
            </g>
          </svg>
        </a>
      </h1>
      <p class="mt-4 text-lg text-gray-700">Upload a ZIP file containing your website's files to generate a Progressive Web App.</p>
      
      <!-- Upload Section -->
        <article>
          <label for="importlogo" class="cursor-pointer">
            <span class="block text-lg font-semibold mb-2">Upload Your Logo</span>
          <img id="logo" class="h-24" src="imgs/file-1.svg">
            </label>
          <input type="file" id="importlogo" class="hidden" accept="image/*">
        </article>
        <article>
          <label for="loadFile" class="block text-lg font-semibold">Upload Your ZIP File</label>
          <input type="file" id="loadFile" accept=".zip">
        </article>
        
        <button id="exportPWA" class="mt-6 px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg shadow-md hidden">Convert to PWA</button>
      
      <!-- Instructions -->
      <section class="mt-10 text-left">
        <!-- How to Prepare Your ZIP File -->
        <details>
          <summary>
            How to Prepare Your ZIP File
          </summary>
          <div>
            <p class="mt-2 text-gray-700">Ensure your ZIP file follows this structure:</p>
            <article>
              <pre class="m-0 p-0 text-sm bg-transparent">index.html
  css/style.css
  js/script.js</pre>
            </article>
          
            <p class="mt-4 text-gray-700">Do NOT include nested folders like this:</p>
            <article>
              <pre class="m-0 p-0 text-sm bg-transparent">AppName/index.html
  AppName/css/style.css
  AppName/js/script.js</pre>
            </article>
          </div>
        </details>

        <!-- How PWAConverter Uses Your Files -->
        <details>
          <summary>
            How PWAConverter Uses Your Files
          </summary>
          <div>
            <p class="mt-2 text-gray-700">Your application's information is retrieved from the following meta tags in your index.html file:</p>
            <article>
              <pre class="m-0 p-0 text-sm bg-transparent">&lt;meta name="application-name" content="YourAppName"&gt;
  &lt;title&gt;Your App Title&lt;/title&gt;
  &lt;meta name="description" content="Your app description here"&gt;</pre>
            </article>
          </div>
        </details>
      </section>

      <!-- Video Demo -->
      <section class="mt-10">
        <h2 class="text-2xl font-semibold">Watch How It Works</h2>
        <video class="w-full h-96 bg-black" controls="">
          <source src="vids/pwaconverter.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </section>
    </main>

    <script src="dist/script.js" type="module"></script>
    <script src="https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./sw.js').then(reg => {
          reg.addEventListener('updatefound', () => {
            const newSW = reg.installing;
            newSW.addEventListener('statechange', () => {
              if (newSW.state === 'installed' && navigator.serviceWorker.controller) {
                // Notify the user and reload if they confirm
                if (confirm('A new version is available. Reload now?')) {
                  window.location.reload();
                }
              }
            });
          });
        });

        // Ensure immediate activation of a new service worker
        navigator.serviceWorker.ready.then(registration => {
          registration.active.postMessage({ type: 'SKIP_WAITING' });
        });
      }
    </script>
  </body>
</html>